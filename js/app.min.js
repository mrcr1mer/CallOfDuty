(()=>{"use strict";const e=new IntersectionObserver((t=>{t.forEach((t=>{t.target.classList.toggle("_active",t.isIntersecting),t.isIntersecting&&e.unobserve(t.target)}))}),{threshold:.15}),t=document.querySelectorAll("._anim");t.length>0&&t.forEach((t=>{e.observe(t)})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}))}(),function(){const e=document.querySelector(".edit-profile__item input"),t=document.querySelector(".edit-profile__preview");e&&e.addEventListener("change",(()=>{!function(o){if(!["image/jpg","image/jpeg","image/png","image/webp"].includes(o.type))return alert("Разрешены только изображения"),void(e.value="");if(o.size>2097152)return void alert("Файл должен быть менее 2мб");let s=new FileReader;s.onload=e=>{t.innerHTML=`<img src="${e.target.result}" alt="Фото">`},s.onerror=e=>{alert("Ошибка")},s.readAsDataURL(o)}(e.files[0])}))}();const o=document.querySelector(".icon-header"),s=document.querySelector(".header__top"),n=document.querySelector(".menu");o&&o.addEventListener("click",(()=>{o.classList.contains("active")?o.classList.add("reverse"):o.classList.remove("reverse"),document.body.classList.toggle("burger-lock"),o.classList.toggle("active"),s.classList.toggle("active"),n.classList.toggle("active")}));const i=document.querySelector(".menu__list"),l=window.matchMedia("(max-width: 1024px)");function r(e){e.matches?i.lastElementChild.hasAttribute("data-chat")||i.insertAdjacentHTML("beforeend",'<li data-chat=""><a href="chat.html" class="menu__link">Чат</a></li>'):i.lastElementChild.hasAttribute("data-chat")&&i.lastElementChild.remove()}i&&(l.addEventListener("change",r),r(l));const a=document.querySelectorAll(".menu__link"),c=window.location.href;a.forEach((e=>{e.href===c?e.classList.add("active"):e.classList.remove("active")}));const d=document.querySelector(".aside__arrows"),u=document.querySelectorAll(".aside-open");if(d){function N(){for(let e=0;e<u.length;e++){const t=u[e];t&&t.classList.toggle("active")}}d.addEventListener("click",N)}const p=document.querySelectorAll(".popup__tab"),m=document.querySelectorAll(".popup__form");p.length>0&&function(e,t){for(let o=0;o<e.length;o++){const s=e[o];s.addEventListener("click",(()=>{const o=s.getAttribute("data-tab");for(let s=0;s<e.length;s++)o===t[s].getAttribute("data-tab-content")?(e[s].classList.add("active"),t[s].classList.add("active")):(e[s].classList.remove("active"),t[s].classList.remove("active"))}))}}(p,m);const y=document.getElementsByTagName("input");y.length>0&&h(y);const g=document.getElementsByTagName("textarea");function h(e){for(let t=0;t<e.length;t++){const o=e[t],s=o.placeholder;o.addEventListener("focus",(function(e){o.placeholder="",o.classList.remove("_error")})),o.addEventListener("blur",(function(e){o.placeholder=s}))}}g.length>0&&h(g);const v=document.querySelectorAll(".popup-link"),f=document.querySelector("body"),L=document.querySelectorAll(".lock-padding");let b=!0;if(v.length>0)for(let $=0;$<v.length;$++){const F=v[$];F.addEventListener("click",(function(e){const t=F.getAttribute("href").replace("#","");w(document.getElementById(t)),e.preventDefault()}))}const _=document.querySelectorAll(".close-popup");if(_.length>0)for(let G=0;G<_.length;G++){const J=_[G];J.addEventListener("click",(function(e){S(J.closest(".popup")),e.preventDefault()}))}function w(e){if(e&&b){const t=document.querySelector(".popup.open");t?S(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(L.length>0)for(let t=0;t<L.length;t++)L[t].style.paddingRight=e;f.style.paddingRight=e,f.classList.add("lock"),b=!1,setTimeout((function(){b=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||S(e.target.closest(".popup"))}))}}function S(e,t=!0){e.closest(".popup._sending")||b&&(e.classList.remove("open"),t&&(setTimeout((function(){if(L.length>0)for(let e=0;e<L.length;e++)L[e].style.paddingRight="0px";f.style.paddingRight="0px",f.classList.remove("lock")}),800),b=!1,setTimeout((function(){b=!0}),800)))}document.addEventListener("keydown",(function(e){"Escape"===e.key&&S(document.querySelector(".popup.open"))})),new Swiper(".about-swiper",{loop:!0,grabCursor:!0,initialSlide:3,speed:800,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:3500,stopOnLastSlide:!1,disableOnInteraction:!1},mousewheel:{sensitivity:1,eventsTarget:".about-swiper"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{280:{slidesPerView:1,spaceBetween:0,centeredSlides:!1},768:{slidesPerView:1.8,spaceBetween:25,centeredSlides:!0,watchSlidesProgress:!0},1025:{slidesPerView:1,spaceBetween:0,centeredSlides:!1}},preloadImages:!1,lazy:{loadOnTransitionStart:!0,loadPrevNext:!0}});let A,E=document.querySelector(".icon-chat");E&&document.addEventListener("scroll",(function(){E.style.opacity=1,E.style.visibility="visible",E.style.transform="translate(0,0)",null!=A&&clearTimeout(A),A=setTimeout((()=>{E.style.opacity=0,E.style.visibility="hidden",E.style.transform="translate(0,100%)"}),2500)}));const q=document.querySelector(".chat__content");q&&x(q);const k=document.querySelector(".chat__scroll-button");k&&B(k,q);const P=document.querySelector(".chat-aside__content");P&&x(P);const T=document.querySelector(".chat-aside__scroll-button");function x(e){e.scrollTo(0,e.scrollHeight)}function B(e,t){const o=t.scrollTop-100;t.addEventListener("scroll",(()=>{t.scrollTop<=o?(e.style.opacity=1,e.style.visibility="visible",e.style.transform="translate(0,0)"):(e.style.opacity=0,e.style.visibility="hidden",e.style.transform="translate(0,150%)")})),e.addEventListener("click",(()=>{t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}))}T&&B(T,P);const I=document.querySelector(".chat__header");I&&I.addEventListener("click",(()=>{history.back()}));const C=document.querySelector(".chat-aside__body.blocked");C&&C.insertAdjacentHTML("afterbegin",'<div class="icon-blocked _icon-block"></div>\n\t\t<h3 class="title-blocked">Вы не вошли в аккаунт</h3>');const H=document.querySelector(".list-players__input-searh"),R=document.querySelectorAll(".labels-search"),D=document.querySelector(".search-alert"),W=document.querySelector(".list-players__items");H&&H.addEventListener("input",(e=>{const t=H.value;let o=0;for(let e=0;e<R.length;e++){const s=R[e],n=s.innerHTML,i=n.toUpperCase(),l=n.toLowerCase();n.startsWith(t)||i.startsWith(t)||l.startsWith(t)?s.closest(".list-players__item").classList.remove("hidden"):(s.closest(".list-players__item").classList.add("hidden"),o++)}o==R.length?(D.textContent="Нет совпадений",D.classList.add("show")):(D.textContent="",D.classList.remove("show")),o>=1?W.classList.add("active"):W.classList.remove("active")}));const M=document.querySelector(".info-tournament__button"),j=document.querySelector(".info-tournament__description"),O=document.querySelector(".info-tournament__img");M&&M.addEventListener("click",(e=>{M.classList.toggle("active"),j.classList.toggle("active"),O.classList.add("disabled"),M.classList.contains("active")||setTimeout((()=>{O.classList.remove("disabled")}),800)}));const U=document.querySelectorAll("[data-spollers]");if(U.length>0){const Q=Array.from(U).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));Q.length>0&&Y(Q);const X=Array.from(U).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(X.length>0){const te=[];X.forEach((e=>{const t={},o=e.dataset.spollers.split(",");t.value=o[0],t.type=o[1]?o[1].trim():"max",t.item=e,te.push(t)}));let oe=te.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));oe=oe.filter((function(e,t,o){return o.indexOf(e)===t})),oe.forEach((e=>{const t=e.split(","),o=t[1],s=t[2],n=window.matchMedia(t[0]),i=te.filter((function(e){if(e.value===o&&e.type===s)return!0}));n.addEventListener("change",(()=>{Y(i,n)})),Y(i,n)}))}function Y(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),K(e),e.addEventListener("click",Z)):(e.classList.remove("_init"),K(e,!1),e.removeEventListener("click",Z))}))}function K(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function Z(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),s=o.closest("[data-spollers]"),n=!!s.hasAttribute("data-one-spoller");s.querySelectorAll("._slide").length||(n&&!o.classList.contains("active")&&ee(s),o.classList.toggle("active"),z(o.nextElementSibling,500)),e.preventDefault()}}function ee(e){const t=e.querySelector("[data-spoller].active");t&&(t.classList.remove("active"),V(t.nextElementSibling,500))}}let V=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},z=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,t):V(e,t)})();