(()=>{"use strict";const e=new IntersectionObserver((t=>{t.forEach((t=>{t.target.classList.toggle("_animate",t.isIntersecting),t.isIntersecting&&e.unobserve(t.target)}))}),{threshold:.15}),t=document.querySelectorAll("._anim");t.length>0&&t.forEach((t=>{e.observe(t)})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}))}(),function(){const e=document.querySelector(".edit-profile__item input"),t=document.querySelector(".edit-profile__preview");e&&e.addEventListener("change",(()=>{!function(o){if(!["image/jpg","image/jpeg","image/png","image/webp"].includes(o.type))return alert("Разрешены только изображения"),void(e.value="");if(o.size>2097152)return void alert("Файл должен быть менее 2мб");let n=new FileReader;n.onload=e=>{t.innerHTML=`<img src="${e.target.result}" alt="Фото">`},n.onerror=e=>{alert("Ошибка")},n.readAsDataURL(o)}(e.files[0])}))}();const o=document.querySelector(".icon-header"),n=document.querySelector(".header__top"),i=document.querySelector(".menu");o&&o.addEventListener("click",(()=>{o.classList.contains("active")?o.classList.add("reverse"):o.classList.remove("reverse"),document.body.classList.toggle("burger-lock"),o.classList.toggle("active"),n.classList.toggle("active"),i.classList.toggle("active")}));const s=document.querySelector(".menu__list"),l=window.matchMedia("(max-width: 1024px)");function r(e){e.matches?s.lastElementChild.hasAttribute("data-chat")||s.insertAdjacentHTML("beforeend",'<li data-chat=""><a href="chat.html" class="menu__link">Чат</a></li>'):s.lastElementChild.hasAttribute("data-chat")&&s.lastElementChild.remove()}s&&(l.addEventListener("change",r),r(l));const a=document.querySelectorAll(".menu__link"),c=window.location.href,d=window.location.origin;a.forEach((e=>{c===`${d}/`||c===`${d}/CallOfDuty/`?a[0].classList.add("active"):e.href===c?e.classList.add("active"):e.classList.remove("active")}));const u=document.querySelector(".aside__arrows"),m=document.querySelectorAll(".aside-open");if(u){function V(){for(let e=0;e<m.length;e++){const t=m[e];t&&t.classList.toggle("active")}}u.addEventListener("click",V)}const p=document.querySelectorAll(".popup__tab"),y=document.querySelectorAll(".popup__form");p.length>0&&function(e,t){for(let o=0;o<e.length;o++){const n=e[o];n.addEventListener("click",(()=>{const o=n.getAttribute("data-tab");for(let n=0;n<e.length;n++)o===t[n].getAttribute("data-tab-content")?(e[n].classList.add("active"),t[n].classList.add("active")):(e[n].classList.remove("active"),t[n].classList.remove("active"))}))}}(p,y);const g=document.getElementsByTagName("input");g.length>0&&v(g);const h=document.getElementsByTagName("textarea");function v(e){for(let t=0;t<e.length;t++){const o=e[t],n=o.placeholder;o.addEventListener("focus",(function(e){o.placeholder="",o.classList.remove("_error")})),o.addEventListener("blur",(function(e){o.placeholder=n}))}}h.length>0&&v(h);const f=document.querySelectorAll(".popup-link"),L=document.querySelector("body"),b=document.querySelectorAll(".lock-padding");let _=!0;if(f.length>0)for(let G=0;G<f.length;G++){const J=f[G];J.addEventListener("click",(function(e){const t=J.getAttribute("href").replace("#","");S(document.getElementById(t)),e.preventDefault()}))}const w=document.querySelectorAll(".close-popup");if(w.length>0)for(let Q=0;Q<w.length;Q++){const X=w[Q];X.addEventListener("click",(function(e){A(X.closest(".popup")),e.preventDefault()}))}function S(e){if(e&&_){const t=document.querySelector(".popup.open");t?A(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(b.length>0)for(let t=0;t<b.length;t++)b[t].style.paddingRight=e;L.style.paddingRight=e,L.classList.add("lock"),_=!1,setTimeout((function(){_=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||A(e.target.closest(".popup"))}))}}function A(e,t=!0){e.closest(".popup._sending")||_&&(e.classList.remove("open"),t&&(setTimeout((function(){if(b.length>0)for(let e=0;e<b.length;e++)b[e].style.paddingRight="0px";L.style.paddingRight="0px",L.classList.remove("lock")}),800),_=!1,setTimeout((function(){_=!0}),800)))}document.addEventListener("keydown",(function(e){"Escape"===e.key&&A(document.querySelector(".popup.open"))})),new Swiper(".about-swiper",{loop:!0,grabCursor:!0,initialSlide:3,speed:800,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:3500,stopOnLastSlide:!1,disableOnInteraction:!1},mousewheel:{sensitivity:1,eventsTarget:".about-swiper"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},preloadImages:!1,lazy:{loadOnTransitionStart:!0,loadPrevNext:!0}});let E,q=document.querySelector(".icon-chat");q&&document.addEventListener("scroll",(function(){q.style.opacity=1,q.style.visibility="visible",q.style.transform="translate(0,0)",null!=E&&clearTimeout(E),E=setTimeout((()=>{q.style.opacity=0,q.style.visibility="hidden",q.style.transform="translate(0,100%)"}),2500)}));const k=document.querySelector(".chat__content");k&&C(k);const T=document.querySelector(".chat__scroll-button");T&&I(T,k);const P=document.querySelector(".chat-aside__content");P&&C(P);const x=document.querySelector(".chat-aside__scroll-button");function C(e){e.scrollTo(0,e.scrollHeight)}function I(e,t){const o=t.scrollTop-100;t.addEventListener("scroll",(()=>{t.scrollTop<=o?(e.style.opacity=1,e.style.visibility="visible",e.style.transform="translate(0,0)"):(e.style.opacity=0,e.style.visibility="hidden",e.style.transform="translate(0,150%)")})),e.addEventListener("click",(()=>{t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}))}x&&I(x,P);const H=document.querySelector(".chat__header");H&&H.addEventListener("click",(()=>{history.back()}));const B=document.querySelector(".chat-aside__body.blocked");B&&B.insertAdjacentHTML("afterbegin",'<div class="icon-blocked _icon-block"></div>\n\t\t<h3 class="title-blocked">Вы не вошли в аккаунт</h3>');const D=document.querySelector(".list-players__input-searh"),R=document.querySelectorAll(".labels-search"),M=document.querySelector(".search-alert"),O=document.querySelector(".list-players__items"),j=document.querySelector(".list-players__reset");if(D){function Y(){let e=D.value.toLowerCase().trim(),t=0;e?(j.style.opacity="1",j.style.visibility="visible"):(j.style.opacity=0,j.style.visibility="hidden");for(let o=0;o<R.length;o++){const n=R[o];n.innerHTML.toLowerCase().startsWith(e)?n.closest(".list-players__item").classList.remove("hidden"):(n.closest(".list-players__item").classList.add("hidden"),t++)}t==R.length?(M.textContent="Нет совпадений",M.classList.add("show")):(M.textContent="",M.classList.remove("show")),t>=1?O.classList.add("active"):O.classList.remove("active")}D.addEventListener("input",Y),j.addEventListener("click",(()=>{D.value="",Y()}))}const W=document.querySelector(".info-tournament__button"),$=document.querySelector(".info-tournament__description"),U=document.querySelector(".info-tournament__img");W&&W.addEventListener("click",(e=>{W.classList.toggle("active"),$.classList.toggle("active"),U.classList.add("disabled"),W.classList.contains("active")||setTimeout((()=>{U.classList.remove("disabled")}),800)}));const z=document.querySelectorAll("[data-spollers]");if(z.length>0){const K=Array.from(z).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));K.length>0&&ee(K);const Z=Array.from(z).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(Z.length>0){const ie=[];Z.forEach((e=>{const t={},o=e.dataset.spollers.split(",");t.value=o[0],t.type=o[1]?o[1].trim():"max",t.item=e,ie.push(t)}));let se=ie.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));se=se.filter((function(e,t,o){return o.indexOf(e)===t})),se.forEach((e=>{const t=e.split(","),o=t[1],n=t[2],i=window.matchMedia(t[0]),s=ie.filter((function(e){if(e.value===o&&e.type===n)return!0}));i.addEventListener("change",(()=>{ee(s,i)})),ee(s,i)}))}function ee(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),te(e),e.addEventListener("click",oe)):(e.classList.remove("_init"),te(e,!1),e.removeEventListener("click",oe))}))}function te(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function oe(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),n=o.closest("[data-spollers]"),i=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(i&&!o.classList.contains("_active")&&ne(n),o.classList.toggle("_active"),N(o.nextElementSibling,400)),e.preventDefault()}}function ne(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),F(t.nextElementSibling,400))}}let F=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.style.transitionTimingFunction="ease",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function"),e.classList.remove("_slide")}),t))},N=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.transitionTimingFunction="ease",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function"),e.classList.remove("_slide")}),t)}})(e,t):F(e,t)})();