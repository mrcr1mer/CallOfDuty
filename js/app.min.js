(()=>{"use strict";const e=new IntersectionObserver((t=>{t.forEach((t=>{t.target.classList.toggle("_active",t.isIntersecting),t.isIntersecting&&e.unobserve(t.target)}))}),{threshold:.15}),t=document.querySelectorAll("._anim");t.length>0&&t.forEach((t=>{e.observe(t)})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}))}(),function(){const e=document.querySelector(".edit-profile__item input"),t=document.querySelector(".edit-profile__preview");e&&e.addEventListener("change",(()=>{!function(o){if(!["image/jpg","image/jpeg","image/png","image/webp"].includes(o.type))return alert("Разрешены только изображения"),void(e.value="");if(o.size>2097152)return void alert("Файл должен быть менее 2мб");let s=new FileReader;s.onload=e=>{t.innerHTML=`<img src="${e.target.result}" alt="Фото">`},s.onerror=e=>{alert("Ошибка")},s.readAsDataURL(o)}(e.files[0])}))}();const o=document.querySelector(".icon-header"),s=document.querySelector(".header__top"),n=document.querySelector(".menu");o&&o.addEventListener("click",(()=>{o.classList.contains("active")?o.classList.add("reverse"):o.classList.remove("reverse"),document.body.classList.toggle("burger-lock"),o.classList.toggle("active"),s.classList.toggle("active"),n.classList.toggle("active")}));const i=document.querySelector(".menu__list"),l=window.matchMedia("(max-width: 1024px)");function r(e){e.matches?i.lastElementChild.hasAttribute("data-chat")||i.insertAdjacentHTML("beforeend",'<li data-chat=""><a href="chat.html" class="menu__link">Чат</a></li>'):i.lastElementChild.hasAttribute("data-chat")&&i.lastElementChild.remove()}i&&(l.addEventListener("change",r),r(l));const a=document.querySelectorAll(".menu__link"),c=window.location.href,d=window.location.host;a.forEach((e=>{c==`http://${d}/`?a[0].classList.add("active"):e.href===c?e.classList.add("active"):e.classList.remove("active")}));const u=document.querySelector(".aside__arrows"),p=document.querySelectorAll(".aside-open");if(u){function N(){for(let e=0;e<p.length;e++){const t=p[e];t&&t.classList.toggle("active")}}u.addEventListener("click",N)}const m=document.querySelectorAll(".popup__tab"),y=document.querySelectorAll(".popup__form");m.length>0&&function(e,t){for(let o=0;o<e.length;o++){const s=e[o];s.addEventListener("click",(()=>{const o=s.getAttribute("data-tab");for(let s=0;s<e.length;s++)o===t[s].getAttribute("data-tab-content")?(e[s].classList.add("active"),t[s].classList.add("active")):(e[s].classList.remove("active"),t[s].classList.remove("active"))}))}}(m,y);const g=document.getElementsByTagName("input");g.length>0&&v(g);const h=document.getElementsByTagName("textarea");function v(e){for(let t=0;t<e.length;t++){const o=e[t],s=o.placeholder;o.addEventListener("focus",(function(e){o.placeholder="",o.classList.remove("_error")})),o.addEventListener("blur",(function(e){o.placeholder=s}))}}h.length>0&&v(h);const f=document.querySelectorAll(".popup-link"),L=document.querySelector("body"),b=document.querySelectorAll(".lock-padding");let _=!0;if(f.length>0)for(let F=0;F<f.length;F++){const G=f[F];G.addEventListener("click",(function(e){const t=G.getAttribute("href").replace("#","");S(document.getElementById(t)),e.preventDefault()}))}const w=document.querySelectorAll(".close-popup");if(w.length>0)for(let J=0;J<w.length;J++){const Q=w[J];Q.addEventListener("click",(function(e){A(Q.closest(".popup")),e.preventDefault()}))}function S(e){if(e&&_){const t=document.querySelector(".popup.open");t?A(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(b.length>0)for(let t=0;t<b.length;t++)b[t].style.paddingRight=e;L.style.paddingRight=e,L.classList.add("lock"),_=!1,setTimeout((function(){_=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||A(e.target.closest(".popup"))}))}}function A(e,t=!0){e.closest(".popup._sending")||_&&(e.classList.remove("open"),t&&(setTimeout((function(){if(b.length>0)for(let e=0;e<b.length;e++)b[e].style.paddingRight="0px";L.style.paddingRight="0px",L.classList.remove("lock")}),800),_=!1,setTimeout((function(){_=!0}),800)))}document.addEventListener("keydown",(function(e){"Escape"===e.key&&A(document.querySelector(".popup.open"))})),new Swiper(".about-swiper",{loop:!0,grabCursor:!0,initialSlide:3,speed:800,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:3500,stopOnLastSlide:!1,disableOnInteraction:!1},mousewheel:{sensitivity:1,eventsTarget:".about-swiper"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{280:{slidesPerView:1,spaceBetween:0,centeredSlides:!1},768:{slidesPerView:1.8,spaceBetween:25,centeredSlides:!0,watchSlidesProgress:!0},1025:{slidesPerView:1,spaceBetween:0,centeredSlides:!1}},preloadImages:!1,lazy:{loadOnTransitionStart:!0,loadPrevNext:!0}});let E,q=document.querySelector(".icon-chat");q&&document.addEventListener("scroll",(function(){q.style.opacity=1,q.style.visibility="visible",q.style.transform="translate(0,0)",null!=E&&clearTimeout(E),E=setTimeout((()=>{q.style.opacity=0,q.style.visibility="hidden",q.style.transform="translate(0,100%)"}),2500)}));const k=document.querySelector(".chat__content");k&&B(k);const P=document.querySelector(".chat__scroll-button");P&&I(P,k);const T=document.querySelector(".chat-aside__content");T&&B(T);const x=document.querySelector(".chat-aside__scroll-button");function B(e){e.scrollTo(0,e.scrollHeight)}function I(e,t){const o=t.scrollTop-100;t.addEventListener("scroll",(()=>{t.scrollTop<=o?(e.style.opacity=1,e.style.visibility="visible",e.style.transform="translate(0,0)"):(e.style.opacity=0,e.style.visibility="hidden",e.style.transform="translate(0,150%)")})),e.addEventListener("click",(()=>{t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}))}x&&I(x,T);const C=document.querySelector(".chat__header");C&&C.addEventListener("click",(()=>{history.back()}));const H=document.querySelector(".chat-aside__body.blocked");H&&H.insertAdjacentHTML("afterbegin",'<div class="icon-blocked _icon-block"></div>\n\t\t<h3 class="title-blocked">Вы не вошли в аккаунт</h3>');const R=document.querySelector(".list-players__input-searh"),D=document.querySelectorAll(".labels-search"),W=document.querySelector(".search-alert"),M=document.querySelector(".list-players__items");R&&R.addEventListener("input",(e=>{const t=R.value;let o=0;for(let e=0;e<D.length;e++){const s=D[e],n=s.innerHTML,i=n.toUpperCase(),l=n.toLowerCase();n.startsWith(t)||i.startsWith(t)||l.startsWith(t)?s.closest(".list-players__item").classList.remove("hidden"):(s.closest(".list-players__item").classList.add("hidden"),o++)}o==D.length?(W.textContent="Нет совпадений",W.classList.add("show")):(W.textContent="",W.classList.remove("show")),o>=1?M.classList.add("active"):M.classList.remove("active")}));const j=document.querySelector(".info-tournament__button"),O=document.querySelector(".info-tournament__description"),U=document.querySelector(".info-tournament__img");j&&j.addEventListener("click",(e=>{j.classList.toggle("active"),O.classList.toggle("active"),U.classList.add("disabled"),j.classList.contains("active")||setTimeout((()=>{U.classList.remove("disabled")}),800)}));const V=document.querySelectorAll("[data-spollers]");if(V.length>0){const X=Array.from(V).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));X.length>0&&K(X);const Y=Array.from(V).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(Y.length>0){const oe=[];Y.forEach((e=>{const t={},o=e.dataset.spollers.split(",");t.value=o[0],t.type=o[1]?o[1].trim():"max",t.item=e,oe.push(t)}));let se=oe.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));se=se.filter((function(e,t,o){return o.indexOf(e)===t})),se.forEach((e=>{const t=e.split(","),o=t[1],s=t[2],n=window.matchMedia(t[0]),i=oe.filter((function(e){if(e.value===o&&e.type===s)return!0}));n.addEventListener("change",(()=>{K(i,n)})),K(i,n)}))}function K(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),Z(e),e.addEventListener("click",ee)):(e.classList.remove("_init"),Z(e,!1),e.removeEventListener("click",ee))}))}function Z(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function ee(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),s=o.closest("[data-spollers]"),n=!!s.hasAttribute("data-one-spoller");s.querySelectorAll("._slide").length||(n&&!o.classList.contains("_active")&&te(s),o.classList.toggle("_active"),z(o.nextElementSibling,400)),e.preventDefault()}}function te(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),$(t.nextElementSibling,400))}}let $=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},z=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,t):$(e,t)})();